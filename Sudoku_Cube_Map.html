<!Doctype html>
<html>
<head>
  <link rel="stylesheet" href="styles.css">
  <script src="scripts.js"></script>
</head>
<div id= "4"></div>
<div style="display: flex">
  <div id= "0"></div>
  <div id= "1"></div>
  <div id= "2"></div>
  <div id= "3"></div>
</div>
<div id= "5"></div>
<!-- <h2>Slabs</h2>
<div id= "6"></div>
<div id= "7"></div>
<div id= "8"></div>
<div id= "9"></div>
<h2>Slices</h2>
<div id= "10"></div>
<div id= "11"></div>
<div id= "12"></div>
<div id= "13"></div>
<h2>Walls</h2>
<div id= "14"></div>
<div id= "15"></div>
<div id= "16"></div>
<div id= "17"></div>
-->
  <script>
    // Create cube and empty vars
    var validCubeList = []
    var bestCount = 0;
    var manualLoop = true;
    var takeBest = false;

    let bestCube = setupNewCube();   

    // AUTOMATED RUN
    if (manualLoop == false) {
      let autoCube = null;
      for (var i = 0; i <= 400; i++) {

        //Set to best or new cube
        if (takeBest == true) {
          autoCube = Object.assign({}, bestCube);
        }
        else {
          autoCube = setupNewCube(); 
        }

        // Loop while valid and incomplete
        loopWhileValid(autoCube, bestCube, bestCount)
        
        //log best count reached
        console.log(bestCount);

        // Ping and log success 
        if (autoCube.complete == true) {
          console.log("We Got One!!!")
          validCubeList.push(autoCube);        
        }
      }

      // Show Best autoCube
      displayAll(bestCube);
      console.log(autoCube);
      console.log(validCubeList);
    }

    // MANUAL RUN
    else {
      let manualCube = setupNewCube();

            //Key press for manual running
      window.onkeypress = function(event) {
        if (event.keyCode == 13) {
          if (manualCube.complete == true) {
            validCubeList.push(manualCube);
          }
          else if (manualCube.valid == true) {collapseAndCheck(manualCube);}
          else {manualCube = setupNewCube();}
        }
      }
      displayAll(manualCube);
      console.log(manualCube);
      console.log(validCubeList);
    }
  </script>
</html>
