<!Doctype html>
<html>
<head>
  <link rel="stylesheet" href="styles.css">
  <script src="scripts.js"></script>
</head>
<h1 id="title">Lorem Ipsum</h1>
<h2>Faces</h2>
<div id= "4"></div>
<div style="display: flex">
  <div id= "0"></div>
  <div id= "1"></div>
  <div id= "2"></div>
  <div id= "3"></div>
</div>
<div id= "5"></div>
<h2>Slabs</h2>
<div id= "6"></div>
<div id= "7"></div>
<div id= "8"></div>
<div id= "9"></div>
<h2>Slices</h2>
<div id= "10"></div>
<div id= "11"></div>
<div id= "12"></div>
<div id= "13"></div>
<h2>Walls</h2>
<div id= "14"></div>
<div id= "15"></div>
<div id= "16"></div>
<div id= "17"></div>
  <script>
    // Create cube and empty vars
    var validCubeList = []
    var maxCount = 0;
    /*
    let bestCube = {
        faces: createFaces(6),
        slabs: createSlabs(4),
        slices: createSlices(4),
        walls: createWalls(4),
        valid: true,
        complete: false
      };
    assignPositionalIds(bestCube.faces);
    setFaceColors(bestCube)
    syncAll(bestCube.faces, bestCube.slabs, bestCube.slices, bestCube.walls);
    */
    var bestCube = null;
    for (var i = 0; i <= 400; i++) {
      
      let cube = {
        faces: createFaces(6),
        slabs: createSlabs(4),
        slices: createSlices(4),
        walls: createWalls(4),
        valid: true,
        complete: false
      };

      //Setup
      assignPositionalIds(cube.faces);
      setFaceColors(cube)
      syncAll(cube.faces, cube.slabs, cube.slices, cube.walls);
      
      // let cube = Object.assign({}, bestCube);
      displayAll(cube);
      var count = 0;

      // Loop while valid and incomplete
      while (cube.valid == true && cube.complete == false) { 
        waveformCollapse(cube);
        displayAll(cube);
        checkValidity(cube);
      // Keep tabs on closest success
        count += 1;
        if (cube.valid == true && count >= maxCount) {bestCube = cube; maxCount = count;}
      }
      console.log(maxCount);

      // Ping and log success 
      if (cube.complete == true) {
        console.log("We Got One!!!")
        validCubeList.push(cube);        
      }
    }
    // Show Best Cube
    cube = bestCube;
    displayAll(cube);
    console.log(validCubeList);
  </script>
</html>
